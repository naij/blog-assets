define("app/views/pages/tags/list",["magix"],function(a,t,i){var e=a("magix");i.exports=e.View.extend({tmpl:'{{#if(tag)}}<div class="wrap-hd clearfix"><div class="title-bar"><h2 class="title">\u6807\u7b7e\u201c{{tag}}\u201d\u7684\u6587\u7ae0\u5217\u8868</h2></div></div><ul class="article-list">{{#for(item in list)}}<li class="list-item"><div class="hd"><h3 class="title"><a href="/pages/article/detail?id={{item.id}}&type={{item.type}}">{{item.title}}</a></h3><div class="meta"><span class="date">{{item.createdAt}}</span> <span class="divide"></span> <a class="tag" href="/pages/tags/list?tag={{item.tag}}">{{item.tag}}</a></div></div><div class="bd markdown-body">{{{item.content|format}}}</div><div class="ft"><a href="/pages/article/detail?id={{item.id}}&type={{item.type}}" class="continue-reading">Read more \u2192</a></div></li>{{/for}}</ul>{{/if}} {{^if(tag)}}<div class="wrap-hd clearfix"><div class="title-bar"><h2 class="title">\u6807\u7b7e</h2></div></div><div class="tag-list"><ul class="clearfix">{{#for(item in list)}}<li><a href="/pages/tags/list?tag={{item.tagName}}"><span class="count">{{item.count}}</span> {{item.tagName}}</a></li>{{/for}}</ul></div>{{/if}}',ctor:function(){this.observe(["tag"])},render:function(){var a=this,t=a.param("tag");t?a.request().all([{name:"article_list_by_tag",params:{tag:t}}],function(i,e){var s=e.get("data");a.data={tag:t,list:s},a.setView()}):a.request().all([{name:"article_tag_group"}],function(t,i){var e=i.get("data");a.data={tag:"",list:e},a.setView()})},filters:{format:function(a){return a=a.replace(/<[^>]+>/g,""),a=a.substring(0,300)+" ... ..."}}})});