KISSY.add("app/views/manage/article/add",function(a,e,i){return e.extend({tmpl:'<div class=article-edit> <div class=hd> <h3 class=title>\u6587\u7ae0\u6dfb\u52a0</h3> </div> <div class=bd> <form id=addForm> <ul class=union-form> <li class=field> <p class=field-label2>\u7c7b\u578b</p> <div bx-name="dropdown" style="width:150px;" class=dropdown hidefocus=true> <span class=dropdown-hd> <span class=dropdown-text value=f2e>f2e</span> <i class="iconfont icon-arrow-down">&#459</i> </span> <ul class=dropdown-list> <li class="dropdown-item dropdown-itemselected"><span value=f2e>f2e</span><i class="iconfont icon-ok">&#126</i></li> <li class=dropdown-item><span value=discovery>discovery</span><i class="iconfont icon-ok">&#126</i></li> <li class=dropdown-item><span value=life>life</span><i class="iconfont icon-ok">&#126</i></li> </ul> <input type=hidden name=type value=f2e> </div> </li> <li class=field> <p class=field-label2>\u6807\u7b7e</p> <div bx-name="dropdown" style="width:150px;" class=dropdown hidefocus=true> <span class=dropdown-hd> {{#tag}} {{#selected}} <span class=dropdown-text value="{{tagName}}">{{tagName}}</span> <i class="iconfont icon-arrow-down">&#459</i> {{/selected}} {{/tag}} </span> <ul class=dropdown-list> {{#tag}} <li class="dropdown-item {{#selected}}dropdown-itemselected{{/selected}}"><span value="{{tagName}}">{{tagName}}</span><i class="iconfont icon-ok">&#126</i></li> {{/tag}} </ul> {{#tag}} {{#selected}} <input type=hidden name=tag value="{{tagName}}"> {{/selected}} {{/tag}} </div> </li> <li class=field> <p class=field-label2>\u6807\u9898</p> <input type=text class=input name=title> </li> <li class=field> <p class=field-label2>\u5185\u5bb9</p> <textarea class=textarea name=content></textarea> </li> <li class=field> <a href="#" class="btn btn-small" mx-click=submit>\u53d1\u5e03</a> <a href="#" class="btn btn-small" mx-click=draft>\u4fdd\u5b58\u6210\u8349\u7a3f</a> </li> </ul> </form> </div> </div>',locationChange:function(){this.render()},render:function(){var a=this;a.manage(i.fetchAll([{name:"tag_list"}],function(e,i){var l=i.get("data");l[0].selected=!0,a.setViewPagelet({tag:l},function(){a.components()})}))},components:function(){var a=new Editor;a.render(),this.manage("editor",a)},"submit<click>":function(e){e.halt();var l=this,t=l.getManaged("editor");t.codemirror.save();var s=a.unparam(a.IO.serialize("#addForm"));l.manage(i.fetchAll([{name:"article_create",postParams:s}],function(){l.navigate("/manage/article/list")}))},"draft<click>":function(e){e.halt();var l=this,t=l.getManaged("editor");t.codemirror.save();var s=a.unparam(a.IO.serialize("#addForm"));s.draft=1,l.manage(i.fetchAll([{name:"article_create",postParams:s}],function(){l.navigate("/manage/article/list")}))}})},{requires:["mxext/view","app/models/modelmanager","magix/vom","magix/router","node","app/util/util"]});